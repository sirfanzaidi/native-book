"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_book=self.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[462],{8453:function(e,s,n){n.d(s,{R:function(){return t},x:function(){return o}});var i=n(6540);const r={},l=i.createContext(r);function t(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:s},e.children)}},8746:function(e,s,n){n.r(s),n.d(s,{assets:function(){return c},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return t},metadata:function(){return i},toc:function(){return d}});var i=JSON.parse('{"id":"module-1-ros2/01-introduction","title":"Chapter 1 - ROS 2 Architecture: Nodes, Topics, Services","description":"Introduction","source":"@site/docs/01-module-1-ros2/01-introduction.md","sourceDirName":"01-module-1-ros2","slug":"/module-1-ros2/01-introduction","permalink":"/native-book/module-1-ros2/01-introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/native-book/native-book/tree/main/docs/01-module-1-ros2/01-introduction.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"01-introduction","title":"Chapter 1 - ROS 2 Architecture: Nodes, Topics, Services","sidebar_label":"Chapter 1: Architecture"},"sidebar":"tutorialSidebar","previous":{"title":"Physical AI & Humanoid Robotics","permalink":"/native-book/"},"next":{"title":"Chapter 2: Services","permalink":"/native-book/module-1-ros2/02-services"}}'),r=n(4848),l=n(8453);const t={id:"01-introduction",title:"Chapter 1 - ROS 2 Architecture: Nodes, Topics, Services",sidebar_label:"Chapter 1: Architecture"},o="Chapter 1: ROS 2 Architecture",c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Why ROS 2?",id:"why-ros-2",level:3},{value:"What is Middleware?",id:"what-is-middleware",level:3},{value:"The Pub/Sub Pattern Explained",id:"the-pubsub-pattern-explained",level:3},{value:"What You&#39;ll Learn in This Chapter",id:"what-youll-learn-in-this-chapter",level:3},{value:"ROS 2 Nodes &amp; Topics",id:"ros-2-nodes--topics",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Creating Your First ROS 2 Nodes",id:"creating-your-first-ros-2-nodes",level:2},{value:"Simple Publisher",id:"simple-publisher",level:3},{value:"Simple Subscriber",id:"simple-subscriber",level:3},{value:"Running the Example",id:"running-the-example",level:3},{value:"Expected Output",id:"expected-output",level:3},{value:"Explanation",id:"explanation",level:3},{value:"Summary",id:"summary",level:2}];function a(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"chapter-1-ros-2-architecture",children:"Chapter 1: ROS 2 Architecture"})}),"\n",(0,r.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(s.p,{children:"Welcome to Module 1: The Robotic Nervous System. In this chapter, you'll learn the fundamental concepts of ROS 2 (Robot Operating System 2), the industry-standard middleware that enables distributed robotics control."}),"\n",(0,r.jsx)(s.h3,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 is the de facto standard for robotics software development. It provides:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Distributed communication"}),": Connect components across multiple machines"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Modular architecture"}),": Build systems from reusable, testable components"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cross-platform support"}),": Run on Linux, Windows, and macOS"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Real-time capabilities"}),": Predictable message delivery and timing"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Source"}),": ROS 2 Documentation Contributors. (2024). ",(0,r.jsx)(s.em,{children:"ROS 2 Humble Distribution"}),". Retrieved from ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/",children:"https://docs.ros.org/en/humble/"})]}),"\n",(0,r.jsx)(s.h3,{id:"what-is-middleware",children:"What is Middleware?"}),"\n",(0,r.jsx)(s.p,{children:"Middleware is software that provides a bridge between different applications and systems. In robotics, middleware handles:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Inter-process communication (IPC) between robot control modules"}),"\n",(0,r.jsx)(s.li,{children:"Time synchronization across sensors and actuators"}),"\n",(0,r.jsx)(s.li,{children:"Network communication for distributed systems"}),"\n",(0,r.jsx)(s.li,{children:"Message serialization and deserialization"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 builds on industry-standard protocols like DDS (Data Distribution Service) to provide reliable, efficient communication."}),"\n",(0,r.jsx)(s.h3,{id:"the-pubsub-pattern-explained",children:"The Pub/Sub Pattern Explained"}),"\n",(0,r.jsxs)(s.p,{children:["ROS 2's primary communication pattern is ",(0,r.jsx)(s.strong,{children:"Publish/Subscribe (Pub/Sub)"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Publisher"}),": A node that sends data to a ",(0,r.jsx)(s.strong,{children:"Topic"})," (named communication channel)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subscriber"}),": A node that receives data from a Topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic"}),": A named bus where messages flow between publishers and subscribers"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This decouples publishers from subscribers - they don't need to know about each other, making the system flexible and scalable."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'Publisher A ---\x3e Topic "sensor/lidar" <--- Subscriber B\n               |                        <--- Subscriber C\n'})}),"\n",(0,r.jsx)(s.h3,{id:"what-youll-learn-in-this-chapter",children:"What You'll Learn in This Chapter"}),"\n",(0,r.jsx)(s.p,{children:"By the end of this chapter, you will:"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Understand ROS 2 nodes, topics, and pub/sub messaging"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Write a simple ROS 2 publisher in Python"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Write a simple ROS 2 subscriber in Python"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run both nodes and verify message exchange"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Understand services and their use cases"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Know when to use topics vs. services"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"ros-2-nodes--topics",children:"ROS 2 Nodes & Topics"}),"\n",(0,r.jsx)(s.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.strong,{children:"node"})," is the basic ROS 2 building block. It's a process that:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Publishes to one or more topics"}),"\n",(0,r.jsx)(s.li,{children:"Subscribes to one or more topics"}),"\n",(0,r.jsx)(s.li,{children:"Provides or calls services"}),"\n",(0,r.jsx)(s.li,{children:"Executes in parallel with other nodes"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"All nodes communicate through the ROS 2 middleware."}),"\n",(0,r.jsx)(s.h3,{id:"topics",children:"Topics"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.strong,{children:"topic"})," is a named communication channel. Nodes can publish data to topics or subscribe to receive data from them."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Example topics in a humanoid robot"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/joint_states"})," - publishes joint angles and velocities"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/sensor/lidar/scan"})," - publishes LiDAR point cloud"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/cmd_vel"})," - receives velocity commands"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"creating-your-first-ros-2-nodes",children:"Creating Your First ROS 2 Nodes"}),"\n",(0,r.jsx)(s.h3,{id:"simple-publisher",children:"Simple Publisher"}),"\n",(0,r.jsx)(s.p,{children:"Let's create a publisher that sends messages to a topic:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: {msg.data}')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"What's happening"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"MinimalPublisher"})," is a class that extends ",(0,r.jsx)(s.code,{children:"Node"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"create_publisher()"})," creates a publisher on topic ",(0,r.jsx)(s.code,{children:"topic"})," with message type ",(0,r.jsx)(s.code,{children:"String"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"create_timer()"})," calls ",(0,r.jsx)(s.code,{children:"timer_callback()"})," every 0.5 seconds"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"publisher_.publish(msg)"})," sends the message to the topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"rclpy.spin()"})," keeps the node running and processing callbacks"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"simple-subscriber",children:"Simple Subscriber"}),"\n",(0,r.jsx)(s.p,{children:"Now let's create a subscriber to receive those messages:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: {msg.data}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"What's happening"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"create_subscription()"})," subscribes to topic ",(0,r.jsx)(s.code,{children:"topic"})," with message type ",(0,r.jsx)(s.code,{children:"String"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"listener_callback()"})," is called every time a message is received"]}),"\n",(0,r.jsx)(s.li,{children:"The callback prints the received message"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"running-the-example",children:"Running the Example"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Terminal 1"})," (Publisher):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"python3 minimal_publisher.py\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Terminal 2"})," (Subscriber):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"python3 minimal_subscriber.py\n"})}),"\n",(0,r.jsx)(s.h3,{id:"expected-output",children:"Expected Output"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Terminal 1"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"[INFO] [minimal_publisher]: Publishing: Hello World: 0\n[INFO] [minimal_publisher]: Publishing: Hello World: 1\n[INFO] [minimal_publisher]: Publishing: Hello World: 2\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Terminal 2"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"[INFO] [minimal_subscriber]: I heard: Hello World: 0\n[INFO] [minimal_subscriber]: I heard: Hello World: 1\n[INFO] [minimal_subscriber]: I heard: Hello World: 2\n"})}),"\n",(0,r.jsx)(s.h3,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsx)(s.p,{children:"The publisher sends a new message every 0.5 seconds. The subscriber receives each message and logs it. This is the fundamental ROS 2 communication pattern used throughout robotics applications."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"In this chapter, you learned:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"ROS 2 provides a distributed middleware for robotics"}),"\n",(0,r.jsx)(s.li,{children:"The Pub/Sub pattern decouples components"}),"\n",(0,r.jsx)(s.li,{children:"Nodes publish and subscribe to topics"}),"\n",(0,r.jsxs)(s.li,{children:["Python ",(0,r.jsx)(s.code,{children:"rclpy"})," library provides simple APIs for ROS 2 programming"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Next steps"}),": In Chapter 2, we'll explore services (synchronous request/response) and more advanced node patterns."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"References"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["ROS 2 Documentation Contributors. (2024). ",(0,r.jsx)(s.em,{children:"Understanding ROS 2 Nodes"}),". Retrieved from ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Understanding-ROS2-Nodes.html",children:"https://docs.ros.org/en/humble/Tutorials/Understanding-ROS2-Nodes.html"})]}),"\n",(0,r.jsxs)(s.li,{children:["ROS 2 Documentation Contributors. (2024). ",(0,r.jsx)(s.em,{children:"Understanding ROS 2 Topics"}),". Retrieved from ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Understanding-ROS2-Topics.html",children:"https://docs.ros.org/en/humble/Tutorials/Understanding-ROS2-Topics.html"})]}),"\n",(0,r.jsxs)(s.li,{children:["ROS 2 Examples. (2024). Retrieved from ",(0,r.jsx)(s.a,{href:"https://github.com/ros2/examples/tree/humble/rclpy_pubsub",children:"https://github.com/ros2/examples/tree/humble/rclpy_pubsub"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);